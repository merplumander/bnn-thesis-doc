\documentclass[11pt, A4, twoside, openright]{report}
\usepackage[utf8]{inputenc}

%\usepackage[english]{babel}

% Adjusts the page layout
\usepackage{typearea}

% For getting headers and footers
\usepackage{fancyhdr}
\pagestyle{fancy}

% To remove headers and footers on empty pages
\usepackage{emptypage}

% Needed for equation environments etc. https://www.overleaf.com/learn/latex/Aligning%20equations%20with%20amsmath
\usepackage{amsmath}
\usepackage{amssymb}

% Boldface printing for all characters in math mode with \vect{}
\usepackage{bm}
\newcommand{\vect}[1]{\boldsymbol{\mathbf{#1}}}

% making references clickable
\usepackage[hidelinks]{hyperref}


\usepackage{numprint}

% non-tikz figures
\usepackage{graphicx}
\graphicspath{ {./figures/} }

% If a figure gets larger than this fraction of a page, it gets its own page. 
% Default: 0.6
\renewcommand{\floatpagefraction}{.85}%

% for subfigures
\usepackage{subcaption}

% ####################  recommended from how_to_tikzplot and tikzplotlib
\usepackage{tikz, pgfplots}
% \DeclareUnicodeCharacter{2212}{−}
\usepgfplotslibrary{groupplots,dateplot}
\usetikzlibrary{patterns,shapes.arrows}
\pgfplotsset{compat=newest}

\newlength{\figheight}
\newlength{\figwidth}
% ####################


% Required for tables generated by python pandas
\usepackage{booktabs}

\usepackage[style=apa]{biblatex}
\addbibresource{thesis.bib}

\usepackage[toc]{appendix}

\newenvironment{acknowledgements} {\renewcommand\abstractname{Acknowledgements}\begin{abstract}} {\end{abstract}}

\usepackage{subfiles} % Best loaded last in the preamble according to https://www.overleaf.com/learn/latex/Multi-file_LaTeX_projects#The_subfiles_package

\DeclareMathOperator{\kl}{KL}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator{\inv}{Inv}
\DeclareMathOperator{\nig}{NIG}
% \DeclareMathOperator{\dif}{d}
\newcommand*\dif{\mathop{}\!\mathrm{d}}

% \title{A Closer Look at Ensembling Methods for Approximating Bayesian Neural Networks}
% \author{Philipp A. Hummel}
% \date{\today}


% header and footer (fancyhdr)
\headwidth140mm \lhead[\thepage]{\nouppercase{\rightmark}}
\chead{} \rhead[\nouppercase{\leftmark}]{\thepage}
\cfoot{\textsc{a closer look at ensembles as approximate bayesian neural networks}}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% text area adjustment (typearea)
%\areaset[0.75cm]{16cm}{21cm}
\areaset[1cm]{14cm}{21cm}
\addtolength{\topmargin}{1cm}

\begin{document}


\begin{titlepage}
    \centering

    {\huge A Closer Look at Ensembles as Approximate Bayesian Neural Networks \par}

    \vspace{2cm}

    {\large Thesis\\submitted in partial fulfilment of the requirements for the degree \par}
    \vspace{0.25cm}
    {\large \textbf{Master of Science}\par}

    \vspace{3.5cm}

    {\large Graduate School of Neural Information Processing \par}
    \vspace{0.25cm}
    {\large Faculty of Science\\Faculty of Medicine \par}
    \vspace{0.25cm}
    {\large Eberhard-Karls-Universit\"at T\"ubingen \par}

    \vspace{3.5cm}

    {\large Presented by \par}
    \vspace{0.25cm}
    {\large Philipp A.\ Hummel \par}
    \vspace{0.25cm}
    {\large from Ochsenfurt, Germany \par}

    \vspace{1.5cm}

    {\large T\"ubingen $\cdot$ \today \par}
\end{titlepage}

\begin{titlepage}
    \vspace*{8cm}

    Thesis Advisor: \hspace{0.9cm} Prof.\ Dr.\ Philipp Hennig\vspace{0.1cm}\\ 
                    \hspace*{4.34cm}  Department of Computer Science, University of Tübingen\\

    \vspace{1cm}

    Second Reader:  \hspace{0.93cm} Dr.\ Stefan Depeweg\vspace{0.1cm}\\ 
                    \hspace*{4.34cm} Siemens Technology, Munich

    \vspace{2cm}

    \begin{itemize}
    \item I affirm that I have written the thesis myself and have not used any sources and aids other than those indicated.
    \item I affirm that I have not included data generated in one of my laboratory rotations and already presented in the respective laboratory report.
    \end{itemize}

    \vspace{2cm}

    Date / Signature: \hspace{1cm} \rule{8cm}{0.25pt}
\end{titlepage}
% \begin{titlepage}
% \maketitle
% \end{titlepage}


\begin{abstract}
\subfile{chapters/00_abstract}
\end{abstract}

\cleardoublepage

\begin{acknowledgements}
    I would like to thank several people for their contributions to this thesis. First and foremost, I want to thank Stefan Depeweg for the freedom he has granted me in defining the research project, his continued guidance and support, and the engaging discussions about probability theory and neural networks.
    Thanks also to Philipp Hennig for bringing up important questions that helped to shape the direction of this thesis.% and for his useful remarks about academic careers more generally.
    
    
    Additionally, I am grateful to Jan Kirchner, Judith Schepers, and Tobias Ludwig for their proof-reading and helpful remarks through which this thesis has become much more readable.
    
    I would also like to express my appreciation to Talilah Charier and Philippa Hennessey for their friendship and support. Thanks for keeping me sane in difficult times.
\end{acknowledgements}

\setcounter{tocdepth}{1}
\tableofcontents
\thispagestyle{empty}




\chapter{Introduction}
\pagenumbering{arabic}
% \subfile{chapters/01_bullet_introduction}
\subfile{chapters/01_introduction}





\chapter{Background}
% \subfile{chapters/02_bullet_background}
\subfile{chapters/02_background}





\chapter{The Neural Linear Ensemble}
% \subfile{chapters/03_bullet_llb_ensemble}
\subfile{chapters/03_llb_ensemble}






\chapter{Investigating Ensemble Performance on Real-World Data}
\label{chapter:uci-benchmark}
% \subfile{chapters/04_bullet_ensembling_UCI}
\subfile{chapters/04_ensembling_UCI}





\chapter{Comparing Ensembles with the Approximate Ground Truth}
% \subfile{chapters/05_bullet_comparison_to_mcmc}
\subfile{chapters/05_comparison_to_mcmc}






\chapter{Discussion}
\subfile{chapters/06_conclusion}





% \chapter*{Things to include somewhere}
% \subfile{chapters/_things_to_include}

\printbibliography


\begin{appendices}
\subfile{chapters/07_appendices}
\end{appendices}


\end{document}
